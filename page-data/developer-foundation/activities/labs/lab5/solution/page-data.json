{"componentChunkName":"component---src-pages-developer-foundation-activities-labs-lab-5-solution-mdx","path":"/developer-foundation/activities/labs/lab5/solution/","result":{"pageContext":{"frontmatter":{"title":"Kubernetes Lab 5 - Debugging"},"relativePagePath":"/developer-foundation/activities/labs/lab5/solution.mdx","titleType":"page","MdxNode":{"id":"f2aa014a-4b4d-50f9-8806-d62d6865443c","children":[],"parent":"31d2fd9b-df02-50a9-8434-bc7f16e6fed7","internal":{"content":"---\ntitle: Kubernetes Lab 5 - Debugging\n---\n\n## Solution\n   Check `STATUS` column for not Ready\n```\n    kubectl get pods --all-namespaces\n```\n\n   Check the description of the deployment\n    ```\n    kubectl describe deployment hyper-drive\n    ```\n   Save logs for a broken pod\n    \n    kubectl logs <pod name> -n <namespace> > /home/cloud_user/debug/broken-pod-logs.log\n    \n   In the description you will see the following is wrong:\n- Selector and Label names do not match.\n- The Probe is TCP instead of HTTP Get.\n- The Service Port is 80 instead of 8080.\n\n   To fix probe, can't kubectl edit, need to delete and recreate the deployment\n    ```\n    kubectl get deployment <deployment name> -n <namespace> -o yaml --export > hyper-drive.yml\n    ```\n\n   Delete pod\n    ```\n    kubectl delete deployment <deployment name> -n <namespace>\n    ```\n   Can also use `kubectl replace`\n\n   Edit yaml, and apply\n    ```\n    kubectl apply -f hyper-drive.yml -n <namespace>\n    ```\n\n   Verify\n    ```\n    kubectl get deployment <deployment name> -n <namespace>\n    ```","type":"Mdx","contentDigest":"bc0eeefac7b3d7239e0a92e0cdcec0f2","counter":1045,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Kubernetes Lab 5 - Debugging"},"exports":{},"rawBody":"---\ntitle: Kubernetes Lab 5 - Debugging\n---\n\n## Solution\n   Check `STATUS` column for not Ready\n```\n    kubectl get pods --all-namespaces\n```\n\n   Check the description of the deployment\n    ```\n    kubectl describe deployment hyper-drive\n    ```\n   Save logs for a broken pod\n    \n    kubectl logs <pod name> -n <namespace> > /home/cloud_user/debug/broken-pod-logs.log\n    \n   In the description you will see the following is wrong:\n- Selector and Label names do not match.\n- The Probe is TCP instead of HTTP Get.\n- The Service Port is 80 instead of 8080.\n\n   To fix probe, can't kubectl edit, need to delete and recreate the deployment\n    ```\n    kubectl get deployment <deployment name> -n <namespace> -o yaml --export > hyper-drive.yml\n    ```\n\n   Delete pod\n    ```\n    kubectl delete deployment <deployment name> -n <namespace>\n    ```\n   Can also use `kubectl replace`\n\n   Edit yaml, and apply\n    ```\n    kubectl apply -f hyper-drive.yml -n <namespace>\n    ```\n\n   Verify\n    ```\n    kubectl get deployment <deployment name> -n <namespace>\n    ```","fileAbsolutePath":"/Users/admin/Documents/ISL/Code/GSI-Labs/ibm-gsi-cloudnative-journey/src/pages/developer-foundation/activities/labs/lab5/solution.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","3273249464","768070550"]}