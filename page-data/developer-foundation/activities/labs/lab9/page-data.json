{"componentChunkName":"component---src-pages-developer-foundation-activities-labs-lab-9-index-mdx","path":"/developer-foundation/activities/labs/lab9/","result":{"pageContext":{"frontmatter":{"title":"Kubernetes Lab 9 - Network Policies"},"relativePagePath":"/developer-foundation/activities/labs/lab9/index.mdx","titleType":"page","MdxNode":{"id":"211a8416-85a3-5b0d-99dc-3aec4da62419","children":[],"parent":"4bc7c105-e4ab-565b-9b5a-5d65853a3a40","internal":{"content":"---\ntitle: Kubernetes Lab 9 - Network Policies\n---\n\n## Problem\n\nSetup minikube\n\n```\nminikube start --network-plugin=cni\nkubectl apply -f https://docs.projectcalico.org/v3.9/manifests/calico.yaml\nkubectl -n kube-system set env daemonset/calico-node FELIX_IGNORELOOSERPF=true\nkubectl -n kube-system get pods | grep calico-node\n```\n\nCreate secured pod\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: network-policy-secure-pod\n  labels:\n    app: secure-app\nspec:\n  containers:\n  - name: nginx\n    image: bitnami/nginx\n    ports:\n    - containerPort: 8080\n```\n\nCreate client pod\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: network-policy-client-pod\nspec:\n  containers:\n  - name: busybox\n    image: radial/busyboxplus:curl\n    command: [\"/bin/sh\", \"-c\", \"while true; do sleep 3600; done\"]\n```\n\nCreate a policy to allow only client pods with label `allow-access: \"true\"` to access secure pod\n ","type":"Mdx","contentDigest":"2a8391d919b49d61d3139bf2bfce91b2","counter":1033,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Kubernetes Lab 9 - Network Policies"},"exports":{},"rawBody":"---\ntitle: Kubernetes Lab 9 - Network Policies\n---\n\n## Problem\n\nSetup minikube\n\n```\nminikube start --network-plugin=cni\nkubectl apply -f https://docs.projectcalico.org/v3.9/manifests/calico.yaml\nkubectl -n kube-system set env daemonset/calico-node FELIX_IGNORELOOSERPF=true\nkubectl -n kube-system get pods | grep calico-node\n```\n\nCreate secured pod\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: network-policy-secure-pod\n  labels:\n    app: secure-app\nspec:\n  containers:\n  - name: nginx\n    image: bitnami/nginx\n    ports:\n    - containerPort: 8080\n```\n\nCreate client pod\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: network-policy-client-pod\nspec:\n  containers:\n  - name: busybox\n    image: radial/busyboxplus:curl\n    command: [\"/bin/sh\", \"-c\", \"while true; do sleep 3600; done\"]\n```\n\nCreate a policy to allow only client pods with label `allow-access: \"true\"` to access secure pod\n ","fileAbsolutePath":"/Users/admin/Documents/ISL/Code/GSI-Labs/ibm-gsi-cloudnative-journey/src/pages/developer-foundation/activities/labs/lab9/index.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","3273249464","768070550"]}